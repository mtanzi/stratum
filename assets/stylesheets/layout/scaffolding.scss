@import "grid";

// = Rows
.l-container {
  @include grid-container;
  .l-row {
    @include grid-row;
  }
  // Flexible rows
  .m-flexible, .m-flexible .l-row {
    min-width: 0;
    @include grid-row(flexible);
  }
}


// = Columns
.l-col {
  @include grid-column;
}
// Centred column
.l-col.m-centered, .l-col.centered:last-child {
  @include grid-column(centered);
}
// Last column
.l-col + .l-col:last-child, .l-col.m-last {
  @include grid-column(last);
}
// Ending column (follows others)
.l-col + .l-col.m-end {
  @include grid-column(end);
}
// Columns in the inner row
.l-row .m-col {
  @include grid-column-margins(inner);
}
// Flexible columns
.m-flexible .l-col {
  @include grid-column-margins(flexible);
}
// Flexible columns with no margins
.m-collapse .l-col, .l-container > .l-col {
  @include grid-column-margins(flexible, 0);
}


// = Column sizes
@for $i from 1 through $grid-total-columns {
  .m-#{$i} {
    @if $grid-type == pixel {
      @include grid-column-width($i);
    } @else {
      @include grid-column-width-flexi($i);
    }
  }
  // Ad hoc flexible grid
  .l-flexible .m-#{$i} {
    @include grid-column-width-flexi($i, false);
  }
  .m-flexible.m-collapse .m-#{$i},
  .l-container > .m-#{$i} {
    @include grid-column-width-flexi($i, true);
  }
}


// = Offsets:
@for $i from 1 through $grid-total-columns {
  // From left
  .l-row .l-col.m-#{$i}-from-left,
  .l-row .l-col.m-#{$i}-from-left.m-end {
    @include grid-offset-by-column($i, left);
  }
  // To left
  .l-row .l-col.m-#{$i}-to-left,
  .l-row .l-col.m-#{$i}-to-left.m-end {
    @include grid-offset-by-column($i, left, negative);
    &:first-child {
      @include grid-offset-by-column($i, left, negative, $first: true);
    }
  }
  // From right
  .l-row .l-col.m-#{$i}-from-right,
  .l-row .l-col.m-#{$i}-from-right.m-end,
  .l-row .l-col.m-#{$i}-from-right.m-last {
    @include grid-offset-by-column($i, right);
  }
  // To right
  .l-row .l-col.m-#{$i}-to-right,
  .l-row .l-col.m-#{$i}-to-right.m-end {
    @include grid-offset-by-column($i, right, negative);
  }
}


// Borders
.m-column-borders {
  @include grid-column-borders($grid-gutter-medium);

  @include large-screen {
    @include grid-column-borders($grid-gutter-large);
  }
  // Remove borders within row with borders
  .m-no-borders {
    margin: {
      left: 0;
      right: 0;
    };
    :before, :after {
      border: 0;
    }
  }
}

